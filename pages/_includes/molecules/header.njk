{% from "atoms/a.njk" import a, button_primary %}
{% from 'atoms/icons.njk' import iconImage, iconCSS %}

{% macro headerLeft(menuItems) %}
    <section class="header-left">
        {% for item in menuItems %}
            <div class="">
                {% set id = 'toggle-155'+ item.title%}
                <input type="checkbox" id="{{id}}" class="toggle hidden" name="First">
                <label onblur="myFunction('{{id}}')" tabindex="0" for="{{id}}" class="accordion--label" style="position:relative">
                    <h2 class="accordion--title heading--4 font-ivar">
                        {{ item.title }}
                    </h2>
                </label>
                <ul class="toggle-details hidden font-ivar" style="position:absolute; gap:1rem; text-align:left; ">
                    {% for linkItems in item.links %}
                       <li>
                            {{a(classes= ['text--color__sn-6', 'no-underline', 'font-ivar'], copy = linkItems.copy)}}
                       </li> 
                    {% endfor %}
                </ul>
            </div>
        {% endfor %}
    </section>
    <script>
window.myFunction =function(id) {
    let el = document.getElementById(id);
        if(el.checked){
            el.checked = false;
        }
    }
    
</script>
{% endmacro %}
{% macro headerIcon() %}
    <section class="header-icon flex align-items-center">
        {{ iconImage( src='images/location.svg', alt='Location icon' ) }}
        {{ iconImage( src='images/playButton.svg', alt='Play Button icon' ) }}
        {{ iconImage( src='images/temparature.svg', alt='Temparature icon' ) }}
    </section>
{% endmacro %}
{% macro headerButton() %}
    <section class="header-button">
        {{ button_primary(classes=['button','button--primary3', 'header__button--text-size', 'header-button__padding'], href='http://example.com', copy='Book Now', id='headerButton-1', target='_blank' ) }}
    </section>
{% endmacro %}
{% macro headerRight() %}
    <section class="header-right">
       {{ headerIcon() }} 
       {{ headerButton() }}
    </section>
{% endmacro %}

{% macro navMenu(menuItems) %}
    <!--Desktop design-->
    <section class="">
        <header class="header">
            <div class="header__left">{{ headerLeft(menuItems) }}</div>
            <div class="header__middle-1">{{ iconImage( src='images/sundance.svg', alt='Sundance text icon' ) }}</div>
            <div class="header__middle-2">
                {{ headerIcon() }}
                {{ headerButton() }}
            </div>
            <div class="header__right">{{ headerButton() }}</div>
        </header>
    </section>
{% endmacro %}