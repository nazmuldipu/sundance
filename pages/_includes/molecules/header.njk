{% from "atoms/a.njk" import a, dropdown2 %}
{% from 'atoms/icons.njk' import iconImage, iconCSS %}
{% set dropdownItems1 = [
        {
            "copy": "Tickets & Passes",
            "url": "http://example.com/",
            "target": "_self"
        },
        {
            "copy": "Book Your Stay",
            "url": "http://example.com/",
            "target": "_blank"
        },
        {
            "copy": "Reserve a Table",
            "url": "http://example.com/",
            "target": "_self"
        }
    ]%}
{% macro headerLeft(menuItems) %}
    <section class="header-left">
        {% for item in menuItems %}
            <div class="flex header-left__menu">
                {% set id = 'toggle-155'+ item.title%}
                <input type="checkbox" id="{{id}}" class="toggle hidden" name="First">
                <label onblur="onBlurMenuToggle('{{id}}')" tabindex="0" for="{{id}}" class="header--label relative">
                    <h2 class="header--title heading--4 font-ivar">
                        {{ item.title }}
                    </h2>
                </label>
                <ul class="toggle-details hidden font-ivar header__links">
                    {% for linkItems in item.links %}
                       <li>
                            {{a(classes= ['text--color__sn-6', 'no-underline', 'font-ivar'], copy = linkItems.copy)}}
                       </li> 
                    {% endfor %}
                </ul>
            </div>
        {% endfor %}
    </section>
    <script>
        window.onBlurMenuToggle =function(id) {
            let el = document.getElementById(id);
                if(el.checked){
                    el.checked = false;
                }
        }
    </script>
{% endmacro %}
{% macro headerIcons() %}
    <section class="header-icon flex align-items-center">
        {{ iconImage( src='images/location.svg', alt='Location icon' ) }}
        {{ iconImage( src='images/playButton.svg', alt='Play Button icon' ) }}
        {{ iconImage( src='images/temparature.svg', alt='Temparature icon' ) }}
    </section>
{% endmacro %}
{% macro headerCTA(id='dropdown-22') %}
    <section class="header-button">
        {{ dropdown2( classes=['dropdown-container--secondary'], labelClasses=['button--secondary', 'button', 'text-base'], copy='Book Another Class', labelId=id, items=dropdownItems1 ) }}
    </section>
{% endmacro %}


{% macro navMenu(menuItems) %}
    <header class="header">
        <div class="header__burger-icon">{{ iconCSS( classes=['burger-icon'] ) }}</div>
        <div class="header__menu-items--container">{{ headerLeft(menuItems) }}</div>
        <div class="header__logo">{{ iconImage( src='images/sundance.svg', alt='Sundance text icon' ) }}</div>
        <div class="header__icons__cta--container">
            {{ headerIcons() }}
            {{ headerCTA(id='dropdown-22') }}
        </div>
        <div class="header__cta--container">{{ headerCTA(id='dropdown-222') }}</div>
    </header>
{% endmacro %}